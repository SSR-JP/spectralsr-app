(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{6249:function(){},9749:function(e,t,r){Promise.resolve().then(r.bind(r,1039))},1039:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(9241),o=r(4299),i=r(6548),a=r(511),s=r(8549),c=r(7351),l=r(1236),u=r(4526),d=r(1929),v=r(1096),f=r(824),m=r(385),p=r(8784),h=r(6631),Z=r(2265),g=r(3098),y=r(5041),x=r(6463),S=r(3460),C=r(8153);let b=e=>{let t=(0,x.useRouter)();return(0,n.BX)(n.HY,{children:[(0,n.tZ)(i.Z,{css:(0,g.iv)({color:"inherit"}),onClick:()=>{t.push("/login"),(0,y.sy)(e)},children:"ログインする"}),(0,n.tZ)(i.Z,{css:(0,g.iv)({color:"inherit"}),onClick:()=>{(0,y.sy)(e)},children:"閉じる"})]})};function k(){let[e]=(0,o.mN)(),t=(0,x.useRouter)(),[r]=(0,S.fl)(),k=(0,C.PQ)(C.YI.primary.getArgb(r.scheme));(0,C.PQ)(C.YI.onSurface.getArgb(r.scheme));let w=(0,C.PQ)(C.YI.onSurfaceVariant.getArgb(r.scheme)),[P,R]=(0,Z.useState)("signup"),I=(0,Z.useRef)(null),A=(0,Z.useRef)(null),z=(0,Z.useRef)(null),N=(0,Z.useRef)(null),B=(0,Z.useRef)(void 0),[M,T]=(0,Z.useState)(""),[D,X]=(0,Z.useState)(void 0),[j,_]=(0,Z.useState)(!1),E=(0,Z.useRef)(),Y=(0,Z.useMemo)(()=>new h.AM({UserPoolId:o.ZP,ClientId:o.xh}),[]);return(0,n.BX)("div",{children:[(0,n.BX)("div",{css:(0,g.iv)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"}),children:[(0,n.tZ)(a.Z,{variant:"h4",css:(0,g.iv)({color:k,fontWeight:"bold"}),children:"アカウント作成"}),(0,n.BX)("div",{css:(0,g.iv)({marginTop:16,display:"flex",flexDirection:"column"}),children:[(0,n.BX)(s.Z,{variant:"standard",css:(0,g.iv)({}),children:[(0,n.tZ)(c.Z,{children:"メールアドレス"}),(0,n.tZ)(l.Z,{type:"email",inputRef:I})]}),(0,n.BX)(s.Z,{variant:"standard",css:(0,g.iv)({marginTop:8}),children:[(0,n.tZ)(c.Z,{children:"パスワード"}),(0,n.tZ)(l.Z,{type:"password",value:M,onChange:e=>{var t;T(e.target.value),X((t=e.target.value).length<8?{valid:!1,message:"パスワードは8文字以上で入力してください"}:/[a-z]/.test(t)?/[A-Z]/.test(t)?/[0-9]/.test(t)?/[^a-zA-Z0-9]/.test(t)?{valid:!0}:{valid:!1,message:"パスワードに記号(英数字以外の文字)を含めてください"}:{valid:!1,message:"パスワードに数字を含めてください"}:{valid:!1,message:"パスワードに大文字英語を含めてください"}:{valid:!1,message:"パスワードに小文字英語を含めてください"})}}),(0,n.tZ)(a.Z,{variant:"caption",color:"error",children:null==D?void 0:D.message})]}),(0,n.BX)(s.Z,{variant:"standard",css:(0,g.iv)({marginTop:8}),children:[(0,n.tZ)(c.Z,{children:"姓"}),(0,n.tZ)(l.Z,{inputRef:z})]}),(0,n.BX)(s.Z,{variant:"standard",css:(0,g.iv)({marginTop:8}),children:[(0,n.tZ)(c.Z,{children:"名"}),(0,n.tZ)(l.Z,{inputRef:A})]}),(0,n.tZ)("div",{css:(0,g.iv)({marginTop:24,display:"flex",flexDirection:"column",alignItems:"flex-start"}),children:(0,n.tZ)(u.Z,{control:(0,n.tZ)(d.Z,{checked:j,onChange:e=>_(e.target.checked),color:"primary"}),label:(0,n.BX)(a.Z,{variant:"body2",color:w,children:[(0,n.tZ)("a",{href:"https://spectralsr.com/spectrumdir/wp-content/uploads/SSRKK_Privacy-policy_20250625.pdf",target:"_blank",rel:"noopener noreferrer",css:(0,g.iv)({color:k,textDecoration:"none","&:hover":{textDecoration:"underline"}}),children:"プライバシーポリシー"}),"に同意する"]})})}),(0,n.BX)("div",{css:(0,g.iv)({marginTop:24,display:"flex",flexDirection:"row",justifyContent:"flex-end"}),children:[(0,n.tZ)(i.Z,{onClick:()=>{t.push("/login")},children:"作成済みのアカウントでログイン"}),(0,n.tZ)(i.Z,{variant:"contained",onClick:()=>{var e,t,r;let n=null===(e=I.current)||void 0===e?void 0:e.value,o=null===(t=A.current)||void 0===t?void 0:t.value,i=null===(r=z.current)||void 0===r?void 0:r.value;if(!n||!M||!o||!i){(0,y.yv)("入力してください",{variant:"error"});return}if(!j){(0,y.yv)("プライバシーポリシーに同意してください",{variant:"error"});return}let a=[new h.KC({Name:"email",Value:n}),new h.KC({Name:"given_name",Value:o}),new h.KC({Name:"family_name",Value:i})];Y.signUp(n,M,a,[],(e,t)=>{if(e){switch(console.log(e),e.name){case"InvalidPasswordException":default:(0,y.yv)(e.message,{variant:"error"});break;case"UsernameExistsException":(0,y.yv)("このメールアドレスはすでに登録されています",{variant:"error",action:b,persist:!0})}return}B.current=null==t?void 0:t.user,E.current={email:n,password:M},(0,y.yv)("作成完了。確認コードをメールに送信しました。"),R("confirm")})},disabled:!j,children:"アカウント作成"})]})]})]}),(0,n.BX)(v.Z,{open:"confirm"===P,sx:{"& .MuiDialog-paper":{borderRadius:3}},children:[(0,n.tZ)(f.Z,{children:"確認コードを入力"}),(0,n.tZ)(m.Z,{css:(0,g.iv)({display:"flex",flexDirection:"column"}),children:(0,n.BX)(s.Z,{variant:"standard",css:(0,g.iv)({display:"flex",flexDirection:"column"}),children:[(0,n.tZ)(c.Z,{children:"確認コード"}),(0,n.tZ)(l.Z,{inputRef:N})]})}),(0,n.tZ)(p.Z,{children:(0,n.tZ)(i.Z,{variant:"contained",onClick:()=>{var r;let n=null===(r=N.current)||void 0===r?void 0:r.value;if(!n){(0,y.yv)("確認コードが入力されていません。",{variant:"error"});return}let o=B.current;if(!o){(0,y.yv)("user is not found",{variant:"error"});return}o.confirmRegistration(n,!0,(r,n)=>{if(r){(0,y.yv)(r.message,{variant:"error"});return}(0,y.yv)("コード確認: ".concat(n));let i=E.current;if(!i){(0,y.yv)("user auth info is not found",{variant:"error"});return}o.authenticateUser(new h.sD({Username:i.email,Password:i.password}),{onSuccess:function(r){let n=r.getAccessToken().getJwtToken();(0,y.yv)("ログイン成功"),e.apiClient.setNewAccessToken(n),t.push("/launch-service")},onFailure:function(e){(0,y.yv)("login failed",{variant:"error"}),console.error(e)}})})},children:"確認"})})]})]})}},1929:function(e,t,r){"use strict";r.d(t,{Z:function(){return A}});var n=r(3950),o=r(2988),i=r(2265),a=r(4839),s=r(6990),c=r(317),l=r(9690),u=r(9528),d=r(7437),v=(0,u.Z)((0,d.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),f=(0,u.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=(0,u.Z)((0,d.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=r(2272),h=r(5885),Z=r(8024),g=r(1738),y=r(2296),x=r(587);function S(e){return(0,x.ZP)("MuiCheckbox",e)}let C=(0,y.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),b=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],k=e=>{let{classes:t,indeterminate:r,color:n,size:i}=e,a={root:["root",r&&"indeterminate","color".concat((0,p.Z)(n)),"size".concat((0,p.Z)(i))]},c=(0,s.Z)(a,S,t);return(0,o.Z)({},t,c)},w=(0,Z.ZP)(l.Z,{shouldForwardProp:e=>(0,g.Z)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.indeterminate&&t.indeterminate,t["size".concat((0,p.Z)(r.size))],"default"!==r.color&&t["color".concat((0,p.Z)(r.color))]]}})(e=>{let{theme:t,ownerState:r}=e;return(0,o.Z)({color:(t.vars||t).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===r.color?t.vars.palette.action.activeChannel:t.vars.palette[r.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.Fq)("default"===r.color?t.palette.action.active:t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&{["&.".concat(C.checked,", &.").concat(C.indeterminate)]:{color:(t.vars||t).palette[r.color].main},["&.".concat(C.disabled)]:{color:(t.vars||t).palette.action.disabled}})}),P=(0,d.jsx)(f,{}),R=(0,d.jsx)(v,{}),I=(0,d.jsx)(m,{});var A=i.forwardRef(function(e,t){var r,s;let c=(0,h.i)({props:e,name:"MuiCheckbox"}),{checkedIcon:l=P,color:u="primary",icon:v=R,indeterminate:f=!1,indeterminateIcon:m=I,inputProps:p,size:Z="medium",className:g}=c,y=(0,n.Z)(c,b),x=f?m:v,S=f?m:l,C=(0,o.Z)({},c,{color:u,indeterminate:f,size:Z}),A=k(C);return(0,d.jsx)(w,(0,o.Z)({type:"checkbox",inputProps:(0,o.Z)({"data-indeterminate":f},p),icon:i.cloneElement(x,{fontSize:null!=(r=x.props.fontSize)?r:Z}),checkedIcon:i.cloneElement(S,{fontSize:null!=(s=S.props.fontSize)?s:Z}),ownerState:C,ref:t,className:(0,a.Z)(A.root,g)},y,{classes:A}))})},8784:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(3950),o=r(2988),i=r(2265),a=r(4839),s=r(6990),c=r(8024),l=r(5885),u=r(2296),d=r(587);function v(e){return(0,d.ZP)("MuiDialogActions",e)}(0,u.Z)("MuiDialogActions",["root","spacing"]);var f=r(7437);let m=["className","disableSpacing"],p=e=>{let{classes:t,disableSpacing:r}=e;return(0,s.Z)({root:["root",!r&&"spacing"]},v,t)},h=(0,c.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,o.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})});var Z=i.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1}=r,c=(0,n.Z)(r,m),u=(0,o.Z)({},r,{disableSpacing:s}),d=p(u);return(0,f.jsx)(h,(0,o.Z)({className:(0,a.Z)(d.root,i),ownerState:u,ref:t},c))})},4299:function(e,t,r){"use strict";r.d(t,{Er:function(){return h},NZ:function(){return u},ZP:function(){return i},mN:function(){return m},xh:function(){return a}});var n=r(9241),o=r(2265);let i="ap-northeast-3_Co9bfTpos",a="4btom5t4l9d6qkf643fb99t5mv",s="https://qzatinbkh5.execute-api.ap-northeast-3.amazonaws.com/dev",c="".concat(s,"/services/current"),l={"ssr.broken-database":"データベースが破損しています。","ssr.incompatible-extension":"データに互換性のない拡張子が含まれています。","ssr.extension-unmatched":"拡張子が一致しません。","ssr.load-failure":"データの読み込みに失敗しました。","ssr.incompatible-npl":"データのNPLスタイルが互換性がありません。","ssr.file-info-unmatched":"ファイル間でNPL情報が統一されていません。","ssr.data-info-unmatched":"データ間でNPL情報が統一されていません。","ssr.data-size-unmatched":"データ間でサイズが統一されていません。","ssr.incorrect-parameters":"パラメータの指定が正しくありません。","ssr.get-mean-failure":"平均値の取得に失敗しました。","ssr.fitting-failure":"フィッティングに失敗しました。","ssr.wrong-fitting-result":"フィッティング結果が妥当ではありません。","ssr.out-of-memory":"メモリ不足です。","ssr.grid-contains-outside":"予想される位置が範囲外に含まれています。","ssr.others":"不明なエラーが発生しました。","ticket.consume-failed":"計算チケットが不足しています。"};async function u(e){if(e.ok)return;if(404===e.status)return"通信先が見つかりませんでした(404)。";let t=await e.text();try{let e=JSON.parse(t);console.log(e);let r=function(e){if(void 0==e)return;let t=e.detail;if(void 0==t)return;let r=t.code,n=t.message;if(void 0!=r&&void 0!=n&&"string"==typeof r&&"string"==typeof n)return l[r]||n}(e);if(void 0!=r)return r}catch(e){console.warn("Failed to parse error response",e)}return"エラーが発生しました。".concat(e.status,": ").concat(t)}let d=(0,o.createContext)({apiClient:p(s,c,null),apiGatewayUrl:s,serviceStatus:"configuring"}),v=(0,o.createContext)(()=>{}),f=(e,t)=>"setServiceStatus"===t.type?{...e,serviceStatus:t.payload.status}:e,m=()=>{let e=(0,o.useContext)(d),t=(0,o.useContext)(v);return(0,o.useRef)(e).current=e,[e,(0,o.useMemo)(()=>({setServiceStatus:e=>{t({type:"setServiceStatus",payload:{status:e}})}}),[])]};function p(e,t,r){let n=async(e,n,o)=>{let i=n.length>0?"?"+n.join("&"):"",a="".concat(t,"/").concat(e).concat(i),s=new Headers(null==o?void 0:o.headers);return r&&s.set("Authorization","Bearer ".concat(r)),fetch(a,{...o,headers:s})};return console.log("makeApiClient()"),{serviceFetch:async(e,t,r)=>n(e,t,r),setNewAccessToken:e=>{r=e,localStorage.setItem("token",e)},getAccessToken:()=>r,restoreServiceSession:async()=>{r=localStorage.getItem("token");try{let e=await n("hello",[]);if(!e.ok)throw Error("HTTP error! status: ".concat(e.status))}catch(e){return console.error(e),!1}return!0}}}function h(e){let{children:t}=e,r=(0,o.useMemo)(()=>p(s,c,null),[]),[i,a]=(0,o.useReducer)(f,{apiClient:r,apiGatewayUrl:s,serviceStatus:"configuring"}),l=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{if(!l.current)return async function(){try{let e=await i.apiClient.restoreServiceSession();console.log("restoreServiceSession",e),e?a({type:"setServiceStatus",payload:{status:"connected"}}):a({type:"setServiceStatus",payload:{status:"not-login"}})}catch(e){console.error(e),a({type:"setServiceStatus",payload:{status:"not-login"}})}}(),()=>{l.current=!0}},[]),(0,n.tZ)(d.Provider,{value:i,children:(0,n.tZ)(v.Provider,{value:a,children:t})})}},3460:function(e,t,r){"use strict";r.d(t,{ThemeStoreProvider:function(){return h},fl:function(){return m}});var n=r(9241),o=r(8438),i=r.n(o),a=r(9380),s=r(2686),c=r(1705),l=r(8153),u=r(2265),d=r(1246);let v=(0,u.createContext)({scheme:new l.S2(l.OP.fromInt(4435848),!1,-1),sourceColor:4435848}),f=(0,u.createContext)(()=>{}),m=()=>{let e=(0,u.useContext)(v),t=(0,u.useContext)(f);return[e,{resetSourceColor:()=>{t({type:"setTheme",payload:{scheme:new l.S2(l.OP.fromInt(4435848),!1,-1),sourceColor:4435848}})}}]},p=(e,t)=>{if("setTheme"===t.type){let{scheme:r,sourceColor:n}=t.payload;return e.sourceColor===n?e:{...e,scheme:r,sourceColor:n}}return e},h=e=>{let{children:t}=e,[r,o]=(0,u.useReducer)(p,{scheme:new l.S2(l.OP.fromInt(4435848),!1,-1),sourceColor:4435848}),m=(0,a.Z)((0,s.Z)({palette:{mode:"light",primary:{main:(0,l.PQ)(l.YI.primary.getArgb(r.scheme))},secondary:{main:(0,l.PQ)(l.YI.secondary.getArgb(r.scheme))},background:{default:(0,l.PQ)(l.YI.surface.getArgb(r.scheme)),paper:(0,l.PQ)(l.YI.surfaceContainer.getArgb(r.scheme))},error:{main:(0,l.PQ)(l.YI.error.getArgb(r.scheme))},text:{primary:(0,l.PQ)(l.YI.onSurface.getArgb(r.scheme))}},typography:{fontFamily:i().style.fontFamily}}));return(0,n.BX)(c.Z,{theme:m,children:[(0,n.tZ)(d.Z,{styles:e=>({body:{transition:e.transitions.create(["background-color","transform"])}})}),(0,n.tZ)(v.Provider,{value:r,children:(0,n.tZ)(f.Provider,{value:o,children:t})})]})}}},function(e){e.O(0,[1665,9241,526,2036,1650,3676,5981,4692,5380,8273,9109,6631,7025,2971,7023,1744],function(){return e(e.s=9749)}),_N_E=e.O()}]);